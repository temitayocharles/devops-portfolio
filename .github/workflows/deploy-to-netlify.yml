# name: Deploy to Netlify

# on:
#   push:
#     branches:
#       - main
#   workflow_dispatch:

# permissions:
#   contents: read

# concurrency:
#   group: netlify-production
#   cancel-in-progress: true

# jobs:
#   deploy:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4

#       - name: Setup Node
#         uses: actions/setup-node@v4
#         with:
#           node-version: "20"
#           cache: "npm"

#       - name: Install dependencies
#         run: npm ci

#       - name: Build (if configured)
#         run: npm run build --if-present

#       - name: Install Netlify CLI
#         run: npm install -g netlify-cli@latest

#       - name: Deploy to Netlify production
#         env:
#           NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
#           NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
#         run: |
#           if [ -z "$NETLIFY_AUTH_TOKEN" ] || [ -z "$NETLIFY_SITE_ID" ]; then
#             echo "Missing NETLIFY_AUTH_TOKEN or NETLIFY_SITE_ID secret."
#             exit 1
#           fi

#           netlify deploy \
#             --site "$NETLIFY_SITE_ID" \
#             --dir "." \
#             --prod \
#             --auth "$NETLIFY_AUTH_TOKEN" \
#             --message "GitHub Actions deploy ${GITHUB_SHA}"

#       - name: Deployment summary
#         if: always()
#         run: |
#           echo "### Netlify Deployment" >> "$GITHUB_STEP_SUMMARY"
#           echo "" >> "$GITHUB_STEP_SUMMARY"
#           echo "| Property | Value |" >> "$GITHUB_STEP_SUMMARY"
#           echo "|---|---|" >> "$GITHUB_STEP_SUMMARY"
#           echo "| Commit | \`${GITHUB_SHA}\` |" >> "$GITHUB_STEP_SUMMARY"
#           echo "| Branch | \`${GITHUB_REF_NAME}\` |" >> "$GITHUB_STEP_SUMMARY"
#           echo "| Status | \`${{ job.status }}\` |" >> "$GITHUB_STEP_SUMMARY"
