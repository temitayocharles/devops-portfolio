<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate DevOps Container Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', monospace;
            background: #0e0e0e;
            color: #f0f0f0;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, #00d4aa 0%, #007acc 100%);
            margin: -20px -20px 40px -20px;
        }

        .header h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #e6f7ff;
            font-size: 1.1rem;
        }

        .container-overview {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 170, 0.3);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .service-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #555;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .service-card.running {
            border-color: #00d4aa;
            background: rgba(0, 212, 170, 0.1);
            box-shadow: 0 0 20px rgba(0, 212, 170, 0.3);
        }

        .service-card.building {
            border-color: #007acc;
            background: rgba(0, 122, 204, 0.1);
        }

        .service-card.failed {
            border-color: #ea4335;
            background: rgba(234, 67, 53, 0.1);
        }

        .service-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .service-name {
            font-size: 1.1rem;
            color: #00d4aa;
            margin-bottom: 10px;
        }

        .service-status {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 10px;
        }

        .service-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 0.8rem;
        }

        .metric {
            background: rgba(255, 255, 255, 0.05);
            padding: 5px;
            border-radius: 4px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 170, 0.3);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .panel h3 {
            color: #00d4aa;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .terminal {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            height: 400px;
            overflow-y: auto;
            position: relative;
        }

        .terminal::before {
            content: "Docker & Kubernetes CLI";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: #2a2a2a;
            padding: 8px 20px;
            font-size: 12px;
            color: #888;
            border-bottom: 1px solid #333;
        }

        .terminal-content {
            margin-top: 40px;
        }

        .command-line {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }

        .prompt {
            color: #00d4aa;
            margin-right: 10px;
        }

        .command {
            color: #66d9ef;
            flex: 1;
        }

        .output {
            color: #a6e22e;
            margin: 5px 0;
            white-space: pre-wrap;
        }

        .error {
            color: #f92672;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00d4aa;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            color: #888;
        }

        .control-panel {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #00d4aa, #007acc);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 170, 0.4);
        }

        .control-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
        }

        .pipeline-panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 170, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .pipeline-stages {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .pipeline-stage {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #555;
            border-radius: 8px;
            padding: 15px;
            min-width: 120px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .pipeline-stage.active {
            border-color: #00d4aa;
            background: rgba(0, 212, 170, 0.1);
        }

        .pipeline-stage.completed {
            border-color: #34a853;
            background: rgba(52, 168, 83, 0.1);
        }

        .pipeline-stage.failed {
            border-color: #ea4335;
            background: rgba(234, 67, 53, 0.1);
        }

        .stage-name {
            font-size: 0.9rem;
            color: #00d4aa;
            margin-bottom: 8px;
        }

        .stage-status {
            font-size: 0.8rem;
            color: #888;
        }

        .deployment-logs {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
            color: #a6e22e;
        }

        .log-entry {
            margin: 5px 0;
            padding: 3px 0;
            border-left: 3px solid #00d4aa;
            padding-left: 10px;
        }

        .log-entry.error {
            border-left-color: #ea4335;
            color: #f92672;
        }

        .log-entry.success {
            border-left-color: #34a853;
            color: #a6e22e;
        }

        .cluster-visualization {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            position: relative;
        }

        .node {
            position: absolute;
            width: 60px;
            height: 40px;
            background: linear-gradient(135deg, #00d4aa, #007acc);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            border: 1px solid #00d4aa;
            transition: all 0.3s ease;
        }

        .node.worker {
            background: linear-gradient(135deg, #007acc, #00d4aa);
            border-color: #007acc;
        }

        .node.active {
            box-shadow: 0 0 15px rgba(0, 212, 170, 0.5);
        }

        .pod {
            position: absolute;
            width: 25px;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00d4aa;
            font-size: 8px;
            border: 1px solid rgba(0, 212, 170, 0.5);
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2rem;
            }

            .terminal {
                height: 300px;
            }

            .pipeline-stages {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>🚢 Ultimate DevOps Container Demo</h1>
            <p>Multi-Stage Pipeline & Kubernetes Orchestration</p>
        </div>
    </div>

    <div class="container">
        <div class="control-panel">
            <button class="control-btn" id="buildBtn" onclick="startBuild()">Build & Deploy</button>
            <button class="control-btn" id="scaleBtn" onclick="scaleServices()" disabled>Scale Services</button>
            <button class="control-btn" id="monitorBtn" onclick="startMonitoring()" disabled>Monitor Cluster</button>
            <button class="control-btn" id="rollbackBtn" onclick="rollbackDeployment()" disabled>Rollback</button>
            <button class="control-btn" id="resetBtn" onclick="resetDemo()" disabled>Reset Demo</button>
        </div>

        <div class="container-overview">
            <h2 style="color: #00d4aa; text-align: center; margin-bottom: 20px;">🐳 Container Services</h2>

            <div class="services-grid">
                <div class="service-card" id="apiService">
                    <span class="service-icon">🌐</span>
                    <div class="service-name">API Gateway</div>
                    <div class="service-status">Ready</div>
                    <div class="service-metrics">
                        <div class="metric">Pods: 0</div>
                        <div class="metric">CPU: 0%</div>
                    </div>
                </div>

                <div class="service-card" id="authService">
                    <span class="service-icon">🔐</span>
                    <div class="service-name">Auth Service</div>
                    <div class="service-status">Ready</div>
                    <div class="service-metrics">
                        <div class="metric">Pods: 0</div>
                        <div class="metric">CPU: 0%</div>
                    </div>
                </div>

                <div class="service-card" id="dbService">
                    <span class="service-icon">🗄️</span>
                    <div class="service-name">Database</div>
                    <div class="service-status">Ready</div>
                    <div class="service-metrics">
                        <div class="metric">Pods: 0</div>
                        <div class="metric">CPU: 0%</div>
                    </div>
                </div>

                <div class="service-card" id="cacheService">
                    <span class="service-icon">⚡</span>
                    <div class="service-name">Cache</div>
                    <div class="service-status">Ready</div>
                    <div class="service-metrics">
                        <div class="metric">Pods: 0</div>
                        <div class="metric">CPU: 0%</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="panel">
                <h3>⚙️ Container Operations</h3>
                <div class="terminal" id="containerTerminal">
                    <div class="terminal-content" id="containerContent">
                        <div class="output">Docker & Kubernetes ready...</div>
                        <div class="output">Waiting for deployment...</div>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>📊 Cluster Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="totalPods">0</div>
                        <div class="metric-label">Total Pods</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="runningPods">0</div>
                        <div class="metric-label">Running Pods</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="clusterCPU">0%</div>
                        <div class="metric-label">CPU Usage</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="clusterMemory">0%</div>
                        <div class="metric-label">Memory Usage</div>
                    </div>
                </div>

                <div class="cluster-visualization" id="clusterViz">
                    <h4 style="color: #00d4aa; text-align: center; margin-bottom: 15px;">⚡ Kubernetes Cluster</h4>
                    <!-- Nodes and pods will be dynamically added here -->
                </div>
            </div>
        </div>

        <div class="pipeline-panel">
            <h3 style="color: #00d4aa; margin-bottom: 15px;">🔧 CI/CD Pipeline</h3>

            <div class="pipeline-stages">
                <div class="pipeline-stage" id="buildStage">
                    <div class="stage-name">Build</div>
                    <div class="stage-status">Pending</div>
                </div>
                <div class="pipeline-stage" id="testStage">
                    <div class="stage-name">Test</div>
                    <div class="stage-status">Pending</div>
                </div>
                <div class="pipeline-stage" id="securityStage">
                    <div class="stage-name">Security</div>
                    <div class="stage-status">Pending</div>
                </div>
                <div class="pipeline-stage" id="deployStage">
                    <div class="stage-name">Deploy</div>
                    <div class="stage-status">Pending</div>
                </div>
                <div class="pipeline-stage" id="verifyStage">
                    <div class="stage-name">Verify</div>
                    <div class="stage-status">Pending</div>
                </div>
            </div>

            <div class="deployment-logs" id="deploymentLogs">
                Pipeline ready for execution...
            </div>
        </div>
    </div>

    <script>
        let buildActive = false;
        let servicesDeployed = false;
        let totalPods = 0;
        let runningPods = 0;

        const services = ['apiService', 'authService', 'dbService', 'cacheService'];
        const pipelineStages = ['buildStage', 'testStage', 'securityStage', 'deployStage', 'verifyStage'];

        const buildSteps = [
            {
                command: 'docker build -t myapp:latest .',
                output: [
                    'Building Docker image...',
                    'Step 1/8 : FROM node:16-alpine',
                    'Step 2/8 : COPY package*.json ./',
                    'Step 3/8 : RUN npm ci --only=production',
                    '✓ Build completed successfully',
                    '✓ Image tagged: myapp:latest'
                ]
            },
            {
                command: 'docker push myregistry.com/myapp:latest',
                output: [
                    'Pushing image to registry...',
                    'The push refers to repository [myregistry.com/myapp]',
                    'latest: digest: sha256:abc123... size: 1234',
                    '✓ Image pushed successfully'
                ]
            },
            {
                command: 'kubectl apply -f k8s/',
                output: [
                    'Applying Kubernetes manifests...',
                    'deployment.apps/api-gateway created',
                    'deployment.apps/auth-service created',
                    'deployment.apps/database created',
                    'service/api-gateway created',
                    '✓ All resources created'
                ]
            }
        ];

        function startBuild() {
            if (buildActive) return;

            buildActive = true;
            document.getElementById('buildBtn').disabled = true;
            document.getElementById('buildBtn').textContent = 'Building...';
            document.getElementById('scaleBtn').disabled = false;

            // Clear terminal
            document.getElementById('containerContent').innerHTML = '';

            // Start pipeline
            executePipeline(0);
        }

        function executePipeline(stageIndex) {
            if (stageIndex >= pipelineStages.length) {
                completeBuild();
                return;
            }

            const stageId = pipelineStages[stageIndex];
            const stage = document.getElementById(stageId);
            stage.className = 'pipeline-stage active';
            stage.querySelector('.stage-status').textContent = 'Running';

            addDeploymentLog(`▶️ Starting ${stage.querySelector('.stage-name').textContent} stage`);

            // Simulate stage execution
            setTimeout(() => {
                if (Math.random() > 0.9) { // 10% chance of failure
                    stage.className = 'pipeline-stage failed';
                    stage.querySelector('.stage-status').textContent = 'Failed';
                    addDeploymentLog(`❌ ${stage.querySelector('.stage-name').textContent} stage failed`, 'error');
                    return;
                }

                stage.className = 'pipeline-stage completed';
                stage.querySelector('.stage-status').textContent = 'Completed';
                addDeploymentLog(`✅ ${stage.querySelector('.stage-name').textContent} stage completed`, 'success');

                // Execute next stage
                executePipeline(stageIndex + 1);
            }, 2000 + Math.random() * 3000);
        }

        function completeBuild() {
            servicesDeployed = true;
            document.getElementById('buildBtn').textContent = 'Build Complete';
            document.getElementById('monitorBtn').disabled = false;
            document.getElementById('rollbackBtn').disabled = false;
            document.getElementById('resetBtn').disabled = false;

            // Update service cards
            services.forEach(serviceId => {
                const card = document.getElementById(serviceId);
                card.className = 'service-card running';
                card.querySelector('.service-status').textContent = 'Running';
                const podCount = Math.floor(Math.random() * 3) + 1;
                const cpuUsage = Math.floor(Math.random() * 30) + 10;
                card.querySelector('.service-metrics').innerHTML = `
                    <div class="metric">Pods: ${podCount}</div>
                    <div class="metric">CPU: ${cpuUsage}%</div>
                `;
                totalPods += podCount;
                runningPods += podCount;
            });

            updateMetrics();
            createClusterVisualization();
            addDeploymentLog('🎉 Deployment completed successfully!');
        }

        function scaleServices() {
            if (!servicesDeployed) return;

            addDeploymentLog('⚖️ Scaling services...');

            services.forEach(serviceId => {
                const card = document.getElementById(serviceId);
                const currentPods = parseInt(card.querySelector('.service-metrics').innerHTML.match(/Pods: (\d+)/)[1]);
                const newPods = currentPods + Math.floor(Math.random() * 2) + 1;
                const cpuUsage = Math.floor(Math.random() * 40) + 20;

                card.querySelector('.service-metrics').innerHTML = `
                    <div class="metric">Pods: ${newPods}</div>
                    <div class="metric">CPU: ${cpuUsage}%</div>
                `;

                totalPods += (newPods - currentPods);
                runningPods += (newPods - currentPods);
            });

            updateMetrics();
            updateClusterVisualization();
            addDeploymentLog('✅ Services scaled successfully');
        }

        function startMonitoring() {
            if (!servicesDeployed) return;

            addDeploymentLog('📊 Starting cluster monitoring...');

            // Simulate monitoring updates
            const monitorInterval = setInterval(() => {
                if (!servicesDeployed) {
                    clearInterval(monitorInterval);
                    return;
                }

                // Update CPU and memory metrics
                const cpuUsage = Math.floor(Math.random() * 30) + 40;
                const memoryUsage = Math.floor(Math.random() * 25) + 35;

                document.getElementById('clusterCPU').textContent = cpuUsage + '%';
                document.getElementById('clusterMemory').textContent = memoryUsage + '%';

                // Update individual service metrics
                services.forEach(serviceId => {
                    const card = document.getElementById(serviceId);
                    const cpuUsage = Math.floor(Math.random() * 50) + 30;
                    const metrics = card.querySelector('.service-metrics');
                    const podMatch = metrics.innerHTML.match(/Pods: (\d+)/);
                    if (podMatch) {
                        metrics.innerHTML = `
                            <div class="metric">Pods: ${podMatch[1]}</div>
                            <div class="metric">CPU: ${cpuUsage}%</div>
                        `;
                    }
                });
            }, 5000);

            addDeploymentLog('✅ Monitoring active - metrics updating every 5 seconds');
        }

        function rollbackDeployment() {
            if (!servicesDeployed) return;

            addDeploymentLog('🔄 Rolling back deployment...');

            // Reset pipeline stages
            pipelineStages.forEach(stageId => {
                const stage = document.getElementById(stageId);
                stage.className = 'pipeline-stage';
                stage.querySelector('.stage-status').textContent = 'Pending';
            });

            // Reset service cards
            services.forEach(serviceId => {
                const card = document.getElementById(serviceId);
                card.className = 'service-card';
                card.querySelector('.service-status').textContent = 'Ready';
                card.querySelector('.service-metrics').innerHTML = `
                    <div class="metric">Pods: 0</div>
                    <div class="metric">CPU: 0%</div>
                `;
            });

            totalPods = 0;
            runningPods = 0;
            updateMetrics();
            clearClusterVisualization();

            servicesDeployed = false;
            document.getElementById('buildBtn').disabled = false;
            document.getElementById('buildBtn').textContent = 'Build & Deploy';
            document.getElementById('scaleBtn').disabled = true;
            document.getElementById('monitorBtn').disabled = true;
            document.getElementById('rollbackBtn').disabled = true;

            addDeploymentLog('✅ Rollback completed');
        }

        function updateMetrics() {
            document.getElementById('totalPods').textContent = totalPods;
            document.getElementById('runningPods').textContent = runningPods;
            document.getElementById('clusterCPU').textContent = Math.floor(Math.random() * 30) + 20 + '%';
            document.getElementById('clusterMemory').textContent = Math.floor(Math.random() * 25) + 30 + '%';
        }

        function createClusterVisualization() {
            const viz = document.getElementById('clusterViz');
            viz.innerHTML = '<h4 style="color: #00d4aa; text-align: center; margin-bottom: 15px;">⚡ Kubernetes Cluster</h4>';

            // Create master node
            const masterNode = document.createElement('div');
            masterNode.className = 'node';
            masterNode.style.left = '20px';
            masterNode.style.top = '50px';
            masterNode.textContent = 'Master';
            viz.appendChild(masterNode);

            // Create worker nodes
            for (let i = 0; i < 3; i++) {
                const workerNode = document.createElement('div');
                workerNode.className = 'node worker';
                workerNode.style.left = (150 + i * 120) + 'px';
                workerNode.style.top = '50px';
                workerNode.textContent = 'W' + (i + 1);
                viz.appendChild(workerNode);

                // Add pods to worker nodes
                const podCount = Math.floor(Math.random() * 4) + 2;
                for (let j = 0; j < podCount; j++) {
                    const pod = document.createElement('div');
                    pod.className = 'pod';
                    pod.style.left = (150 + i * 120 + 5 + j * 30) + 'px';
                    pod.style.top = (100 + Math.random() * 60) + 'px';
                    pod.textContent = 'P' + (j + 1);
                    viz.appendChild(pod);
                }
            }
        }

        function updateClusterVisualization() {
            const viz = document.getElementById('clusterViz');
            const pods = viz.querySelectorAll('.pod');

            // Update pod count
            pods.forEach(pod => {
                if (Math.random() > 0.7) {
                    pod.style.display = 'none';
                }
            });

            // Add new pods
            const workerNodes = viz.querySelectorAll('.worker');
            workerNodes.forEach((node, index) => {
                if (Math.random() > 0.6) {
                    const pod = document.createElement('div');
                    pod.className = 'pod';
                    pod.style.left = (parseInt(node.style.left) + 5 + Math.random() * 50) + 'px';
                    pod.style.top = (100 + Math.random() * 60) + 'px';
                    pod.textContent = 'P' + Math.floor(Math.random() * 10);
                    viz.appendChild(pod);
                }
            });
        }

        function clearClusterVisualization() {
            const viz = document.getElementById('clusterViz');
            viz.innerHTML = '<h4 style="color: #00d4aa; text-align: center; margin-bottom: 15px;">⚡ Kubernetes Cluster</h4>';
        }

        function addDeploymentLog(message, type = 'info') {
            const logs = document.getElementById('deploymentLogs');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry ' + type;
            logEntry.textContent = `[${timestamp}] ${message}`;
            logs.appendChild(logEntry);
            logs.scrollTop = logs.scrollHeight;
        }

        function resetDemo() {
            buildActive = false;
            servicesDeployed = false;
            totalPods = 0;
            runningPods = 0;

            document.getElementById('buildBtn').disabled = false;
            document.getElementById('buildBtn').textContent = 'Build & Deploy';
            document.getElementById('scaleBtn').disabled = true;
            document.getElementById('monitorBtn').disabled = true;
            document.getElementById('rollbackBtn').disabled = true;
            document.getElementById('resetBtn').disabled = true;

            // Reset service cards
            services.forEach(serviceId => {
                const card = document.getElementById(serviceId);
                card.className = 'service-card';
                card.querySelector('.service-status').textContent = 'Ready';
                card.querySelector('.service-metrics').innerHTML = `
                    <div class="metric">Pods: 0</div>
                    <div class="metric">CPU: 0%</div>
                `;
            });

            // Reset pipeline stages
            pipelineStages.forEach(stageId => {
                const stage = document.getElementById(stageId);
                stage.className = 'pipeline-stage';
                stage.querySelector('.stage-status').textContent = 'Pending';
            });

            // Reset metrics
            updateMetrics();

            // Clear terminals and logs
            document.getElementById('containerContent').innerHTML = `
                <div class="output">Docker & Kubernetes ready...</div>
                <div class="output">Waiting for deployment...</div>
            `;
            document.getElementById('deploymentLogs').innerHTML = 'Pipeline ready for execution...';
            clearClusterVisualization();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            resetDemo();
        });
    </script>
</body>
</html></content>
<parameter name="filePath">/Users/charlie/Downloads/devops-portfolio-main-2/ultimate-devops-container-demo.html
