<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Social Media Platform â€¢ Scalable Social Networking â€¢ Temitayo Charles</title>
  <meta name="description" content="Enterprise social media platform serving 1M+ users with real-time messaging, content feeds, advanced algorithms, and scalable architecture built with Ruby on Rails, PostgreSQL, and Redis for high-performance social networking.">
  <link rel="stylesheet" href="style.css"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    /* Enhanced Project Page Styles */
    .project-hero {
      padding: 120px 0 80px;
      background: linear-gradient(135deg, rgba(102, 217, 239, 0.1), rgba(166, 226, 46, 0.1));
      position: relative;
      overflow: hidden;
    }

    .project-hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 30% 70%, rgba(102, 217, 239, 0.15) 0%, transparent 50%),
                  radial-gradient(circle at 70% 30%, rgba(166, 226, 46, 0.15) 0%, transparent 50%);
    }

    .hero-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      position: relative;
      z-index: 1;
    }

    .hero-badge {
      background: linear-gradient(135deg, #66d9ef, #a6e22e);
      color: #0e0e0e;
      padding: 0.5rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      font-size: 0.9rem;
      display: inline-block;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 700;
      color: #66d9ef;
      margin-bottom: 1rem;
      line-height: 1.1;
    }

    .hero-subtitle {
      font-size: 1.5rem;
      color: #a6e22e;
      margin-bottom: 1.5rem;
      font-weight: 500;
    }

    .hero-description {
      font-size: 1.2rem;
      color: #f0f0f0;
      opacity: 0.9;
      line-height: 1.6;
      max-width: 800px;
      margin-bottom: 2rem;
    }

    .hero-metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .metric-item {
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      border: 1px solid rgba(102, 217, 239, 0.2);
    }

    .metric-value {
      font-size: 2rem;
      font-weight: 700;
      color: #67ffcc;
      display: block;
    }

    .metric-label {
      color: #66d9ef;
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }

    .hero-tech-stack {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .tech-badge {
      background: rgba(102, 217, 239, 0.2);
      color: #66d9ef;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      border: 1px solid rgba(102, 217, 239, 0.3);
      transition: all 0.3s ease;
    }

    .tech-badge:hover {
      background: rgba(166, 226, 46, 0.2);
      color: #a6e22e;
      border-color: #a6e22e;
      transform: translateY(-2px);
    }

    .hero-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .btn {
      padding: 1rem 2rem;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-primary {
      background: linear-gradient(135deg, #66d9ef, #a6e22e);
      color: #0e0e0e;
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #66d9ef;
      border: 1px solid #66d9ef;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(102, 217, 239, 0.3);
    }

    /* Content Sections */
    .content-section {
      padding: 4rem 0;
      max-width: 1200px;
      margin: 0 auto;
      padding-left: 2rem;
      padding-right: 2rem;
    }

    .section-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #66d9ef;
      margin-bottom: 1rem;
    }

    .section-subtitle {
      font-size: 1.2rem;
      color: #f0f0f0;
      opacity: 0.8;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Architecture Diagram */
    .architecture-diagram {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(102, 217, 239, 0.2);
      border-radius: 15px;
      padding: 2rem;
      margin: 2rem 0;
      overflow-x: auto;
    }

    .diagram-content {
      font-family: 'Courier New', monospace;
      color: #a6e22e;
      line-height: 1.6;
      white-space: pre;
      min-width: 800px;
    }

    /* Feature Cards */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin: 3rem 0;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(102, 217, 239, 0.2);
      border-radius: 15px;
      padding: 2rem;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      border-color: #66d9ef;
      box-shadow: 0 15px 40px rgba(102, 217, 239, 0.2);
    }

    .feature-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      display: block;
    }

    .feature-title {
      color: #66d9ef;
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .feature-description {
      color: #f0f0f0;
      opacity: 0.9;
      line-height: 1.6;
    }

    /* Code Blocks */
    .code-block {
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(102, 217, 239, 0.3);
      border-radius: 10px;
      padding: 1.5rem;
      margin: 2rem 0;
      overflow-x: auto;
    }

    .code-block pre {
      color: #a6e22e;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
      margin: 0;
    }

    .code-header {
      background: rgba(102, 217, 239, 0.1);
      color: #66d9ef;
      padding: 0.5rem 1rem;
      border-radius: 5px 5px 0 0;
      font-weight: 600;
      font-size: 0.9rem;
      margin: -1.5rem -1.5rem 1rem -1.5rem;
    }

    /* Performance Metrics */
    .performance-metrics {
      background: linear-gradient(135deg, rgba(102, 217, 239, 0.1), rgba(166, 226, 46, 0.1));
      border: 2px solid rgba(102, 217, 239, 0.2);
      border-radius: 20px;
      padding: 3rem 2rem;
      margin: 3rem 0;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .performance-card {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      padding: 2rem 1rem;
      text-align: center;
      transition: all 0.3s ease;
    }

    .performance-card:hover {
      transform: translateY(-5px);
      background: rgba(102, 217, 239, 0.1);
    }

    .performance-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: #67ffcc;
      margin-bottom: 0.5rem;
    }

    .performance-label {
      color: #f0f0f0;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .performance-description {
      color: #66d9ef;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    /* Business Impact */
    .business-impact {
      background: rgba(255, 255, 255, 0.02);
      padding: 4rem 0;
    }

    .impact-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .impact-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(166, 226, 46, 0.2);
      border-radius: 15px;
      padding: 2rem;
      text-align: center;
    }

    .impact-value {
      font-size: 2rem;
      font-weight: 700;
      color: #a6e22e;
      margin-bottom: 1rem;
    }

    .impact-label {
      color: #f0f0f0;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .impact-description {
      color: #66d9ef;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    /* Call to Action */
    .cta-section {
      padding: 4rem 0;
      text-align: center;
    }

    .cta-container {
      background: linear-gradient(135deg, rgba(102, 217, 239, 0.1), rgba(166, 226, 46, 0.1));
      border: 2px solid rgba(102, 217, 239, 0.2);
      border-radius: 20px;
      padding: 3rem 2rem;
    }

    .cta-title {
      color: #66d9ef;
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .cta-description {
      color: #f0f0f0;
      opacity: 0.9;
      font-size: 1.1rem;
      margin-bottom: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Mobile Responsiveness */
    @media (max-width: 768px) {
      .project-hero {
        padding: 100px 0 60px;
      }
      
      .hero-content {
        padding: 0 1rem;
      }
      
      .hero-title {
        font-size: 2.5rem;
      }

      .hero-metrics {
        grid-template-columns: repeat(2, 1fr);
      }

      .hero-tech-stack {
        justify-content: center;
      }

      .features-grid {
        grid-template-columns: 1fr;
      }

      .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .impact-grid {
        grid-template-columns: 1fr;
      }

      .diagram-content {
        font-size: 0.8rem;
      }
    }

    @media (max-width: 480px) {
      .project-hero {
        padding: 80px 0 40px;
      }
      
      .hero-title {
        font-size: 2rem;
      }
      
      .hero-metrics {
        grid-template-columns: 1fr;
      }

      .metrics-grid {
        grid-template-columns: 1fr;
      }

      .hero-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <!-- Skip Navigation Link for Accessibility -->
  <a href="#main-content" class="skip-to-content">Skip to main content</a>

  <!-- Header Navigation -->
  <header class="header-nav">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">Temitayo Charles</a>
      <nav class="nav-links">
        <a href="index.html" class="nav-link">Home</a>
        <a href="about-me.html" class="nav-link">About</a>
        <a href="skills.html" class="nav-link">Skills</a>
        <a href="projects.html" class="nav-link">Projects</a>
        <a href="contact.html" class="nav-link">Contact</a>
      </nav>
      <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>
    </div>
  </header>

  <!-- Mobile Sidebar -->
  <div class="global-sidebar" id="sidebar">
    <nav class="sidebar-nav">
      <a href="index.html" class="sidebar-nav-item">Home</a>
      <a href="about-me.html" class="sidebar-nav-item">About</a>
      <a href="skills.html" class="sidebar-nav-item">Skills</a>
      <a href="projects.html" class="sidebar-nav-item">Projects</a>
      <a href="contact.html" class="sidebar-nav-item">Contact</a>
    </nav>
  </div>
  <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeSidebar()"></div>

  <!-- Project Hero Section -->
  <section class="project-hero">
    <div class="hero-content">
      <div class="hero-badge">SOCIAL NETWORKING</div>
      <h1 class="hero-title">Social Media Platform</h1>
      <h2 class="hero-subtitle">Scalable Social Networking Experience</h2>
      <p class="hero-description">
        Enterprise-scale social media platform serving 1M+ users with real-time messaging, 
        intelligent content feeds, advanced recommendation algorithms, and robust moderation systems. 
        Built with Ruby on Rails, PostgreSQL, and Redis for high-performance social networking.
      </p>

      <div class="hero-metrics">
        <div class="metric-item">
          <span class="metric-value">1M+</span>
          <span class="metric-label">Active Users</span>
        </div>
        <div class="metric-item">
          <span class="metric-value">10M+</span>
          <span class="metric-label">Daily Posts</span>
        </div>
        <div class="metric-item">
          <span class="metric-value">95%</span>
          <span class="metric-label">User Engagement</span>
        </div>
        <div class="metric-item">
          <span class="metric-value">&lt;100ms</span>
          <span class="metric-label">Feed Load Time</span>
        </div>
      </div>

      <div class="hero-tech-stack">
        <span class="tech-badge">Ruby on Rails 7</span>
        <span class="tech-badge">PostgreSQL 15</span>
        <span class="tech-badge">Redis 7.0</span>
        <span class="tech-badge">Sidekiq</span>
        <span class="tech-badge">Action Cable</span>
        <span class="tech-badge">Elasticsearch</span>
        <span class="tech-badge">AWS S3</span>
        <span class="tech-badge">CloudFront CDN</span>
      </div>

      <div class="hero-actions">
        <a href="#architecture" class="btn btn-primary">
          View Architecture
        </a>
        <a href="#social-features" class="btn btn-secondary">
          Social Features
        </a>
        <a href="projects.html" class="btn btn-secondary">
          â† Back to Projects
        </a>
      </div>
    </div>
  </section>

  <!-- Architecture Section -->
  <section id="architecture" class="content-section">
    <div class="section-header">
      <h2 class="section-title">Social Platform Architecture</h2>
      <p class="section-subtitle">Scalable Ruby on Rails architecture optimized for social interactions</p>
    </div>

    <div class="architecture-diagram">
      <div class="diagram-content">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CloudFront CDN              â”‚
â”‚   Global Edge Locations â”‚ Assets   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Application Load Balancer    â”‚
â”‚  SSL Termination â”‚ Health Checks   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Rails Application Servers     â”‚
â”‚   Puma â”‚ Auto-scaling â”‚ Sessions   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚               â”‚               â”‚
â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”
â”‚User     â”‚ â”‚  Post     â”‚ â”‚Message  â”‚
â”‚Service  â”‚ â”‚ Service   â”‚ â”‚Service  â”‚
â”‚(Rails)  â”‚ â”‚ (Rails)   â”‚ â”‚(Rails)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚               â”‚               â”‚
â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”
â”‚Feed     â”‚ â”‚Notificationâ”‚ â”‚Search   â”‚
â”‚Service  â”‚ â”‚  Service  â”‚ â”‚Service  â”‚
â”‚(Rails)  â”‚ â”‚  (Rails)  â”‚ â”‚(Rails)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚               â”‚               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Background Processing       â”‚
â”‚   Sidekiq â”‚ Action Cable â”‚ Jobs   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Data Storage             â”‚
â”‚PostgreSQLâ”‚Redisâ”‚Elasticsearchâ”‚S3  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      </div>
    </div>

    <div class="features-grid">
      <div class="feature-card">
        <span class="feature-icon">ğŸ’</span>
        <h3 class="feature-title">Ruby on Rails Framework</h3>
        <p class="feature-description">
          High-performance Rails 7 application with advanced caching, database optimization, 
          and scalable architecture serving millions of social interactions daily.
        </p>
      </div>

      <div class="feature-card">
        <span class="feature-icon">ğŸ“±</span>
        <h3 class="feature-title">Real-Time Social Features</h3>
        <p class="feature-description">
          Action Cable WebSocket connections enabling real-time messaging, live notifications, 
          instant reactions, and collaborative social experiences.
        </p>
      </div>

      <div class="feature-card">
        <span class="feature-icon">ğŸ¤–</span>
        <h3 class="feature-title">Intelligent Content Feeds</h3>
        <p class="feature-description">
          ML-powered content algorithm with personalized recommendations, trending topics, 
          engagement optimization, and spam detection for enhanced user experience.
        </p>
      </div>

      <div class="feature-card">
        <span class="feature-icon">ğŸ”</span>
        <h3 class="feature-title">Advanced Search</h3>
        <p class="feature-description">
          Elasticsearch-powered search with full-text indexing, real-time suggestions, 
          filtered queries, and intelligent content discovery across the platform.
        </p>
      </div>

      <div class="feature-card">
        <span class="feature-icon">ğŸ›¡ï¸</span>
        <h3 class="feature-title">Content Moderation</h3>
        <p class="feature-description">
          Automated content moderation with AI-powered detection, community reporting, 
          admin tools, and comprehensive safety measures for user protection.
        </p>
      </div>

      <div class="feature-card">
        <span class="feature-icon">ğŸ“Š</span>
        <h3 class="feature-title">Social Analytics</h3>
        <p class="feature-description">
          Comprehensive analytics dashboard with engagement metrics, user insights, 
          content performance, and data-driven social networking optimization.
        </p>
      </div>
    </div>
  </section>

  <!-- Technical Implementation -->
  <section class="content-section">
    <div class="section-header">
      <h2 class="section-title">Technical Implementation</h2>
      <p class="section-subtitle">Advanced Rails patterns and social networking architecture</p>
    </div>

    <div class="code-block">
      <div class="code-header">Rails Social Feed Controller with Caching</div>
      <pre><code>class FeedsController < ApplicationController
  before_action :authenticate_user!
  before_action :set_user_preferences
  
  # Optimized social feed with intelligent caching
  def show
    @feed_posts = Rails.cache.fetch(feed_cache_key, expires_in: 5.minutes) do
      generate_personalized_feed
    end
    
    # Track feed impression for analytics
    FeedImpressionJob.perform_later(current_user.id, @feed_posts.map(&:id))
    
    respond_to do |format|
      format.html
      format.json { render json: serialize_feed_posts(@feed_posts) }
      format.turbo_stream { render :show }
    end
  end
  
  private
  
  def generate_personalized_feed
    # Multi-source feed generation with scoring algorithm
    friend_posts = Post.joins(user: :friendships)
                      .where(friendships: { friend_id: current_user.id, status: 'accepted' })
                      .includes(:user, :attachments, :reactions)
                      .recent
    
    followed_posts = Post.joins(user: :follows)
                        .where(follows: { follower_id: current_user.id })
                        .includes(:user, :attachments, :reactions)
                        .recent
    
    # Combine and score posts using machine learning
    all_posts = (friend_posts + followed_posts).uniq
    scored_posts = FeedScoringService.new(current_user, all_posts).calculate_scores
    
    # Apply user preferences and filters
    filtered_posts = apply_content_filters(scored_posts)
    
    # Paginate results
    Kaminari.paginate_array(filtered_posts)
            .page(params[:page])
            .per(20)
  end
  
  def apply_content_filters(posts)
    posts = posts.reject { |post| blocked_content?(post) }
    posts = posts.select { |post| matches_interests?(post) } if @user_preferences.interest_filtering?
    posts = posts.reject { |post| seen_recently?(post) }
    
    posts.sort_by { |post| -post.calculated_score }
  end
  
  def feed_cache_key
    # Intelligent cache key with user context
    "user_feed:#{current_user.id}:#{current_user.updated_at.to_i}:#{Time.current.to_i / 5.minutes}"
  end
end

# Advanced feed scoring service with ML integration
class FeedScoringService
  attr_reader :user, :posts
  
  def initialize(user, posts)
    @user = user
    @posts = posts
  end
  
  def calculate_scores
    posts.map do |post|
      post.calculated_score = calculate_post_score(post)
      post
    end
  end
  
  private
  
  def calculate_post_score(post)
    base_score = 1.0
    
    # Recency score (fresher content scores higher)
    recency_score = calculate_recency_score(post.created_at)
    
    # Engagement score (likes, comments, shares)
    engagement_score = calculate_engagement_score(post)
    
    # User relationship score (closer friends score higher)
    relationship_score = calculate_relationship_score(post.user)
    
    # Content relevance score (based on user interests)
    relevance_score = calculate_relevance_score(post)
    
    # Diversity penalty (avoid showing too much from same user)
    diversity_penalty = calculate_diversity_penalty(post.user)
    
    # ML model prediction
    ml_score = get_ml_prediction(post)
    
    # Weighted final score
    final_score = (
      base_score * 0.1 +
      recency_score * 0.2 +
      engagement_score * 0.25 +
      relationship_score * 0.2 +
      relevance_score * 0.15 +
      ml_score * 0.1
    ) * diversity_penalty
    
    final_score.round(4)
  end
  
  def calculate_engagement_score(post)
    likes_weight = 1.0
    comments_weight = 2.0
    shares_weight = 3.0
    
    total_engagement = (
      post.reactions.likes.count * likes_weight +
      post.comments.count * comments_weight +
      post.shares.count * shares_weight
    )
    
    # Normalize based on post age
    hours_old = (Time.current - post.created_at) / 1.hour
    normalized_engagement = total_engagement / (1 + hours_old * 0.1)
    
    # Apply logarithmic scaling to prevent viral posts from dominating
    Math.log(1 + normalized_engagement)
  end
  
  def get_ml_prediction(post)
    # Integration with ML model for engagement prediction
    features = extract_post_features(post)
    MLPredictionService.predict_engagement(user.id, features)
  rescue => e
    Rails.logger.error "ML prediction failed: #{e.message}"
    0.5 # fallback score
  end
end

# Real-time messaging with Action Cable
class MessagesController < ApplicationController
  before_action :authenticate_user!
  
  def create
    @conversation = current_user.conversations.find(params[:conversation_id])
    @message = @conversation.messages.build(message_params)
    @message.sender = current_user
    
    if @message.save
      # Broadcast to conversation channel
      ConversationChannel.broadcast_to(
        @conversation,
        {
          type: 'new_message',
          message: MessageSerializer.new(@message).as_json,
          sender: UserSerializer.new(current_user, scope: :basic).as_json
        }
      )
      
      # Send push notifications to offline users
      notify_conversation_participants
      
      # Update conversation timestamp
      @conversation.touch(:last_activity_at)
      
      render json: { status: 'success', message: @message }
    else
      render json: { status: 'error', errors: @message.errors }
    end
  end
  
  private
  
  def notify_conversation_participants
    offline_participants = @conversation.participants
                                      .where.not(id: current_user.id)
                                      .offline
    
    offline_participants.each do |participant|
      PushNotificationJob.perform_later(
        participant.id,
        {
          title: "#{current_user.display_name} sent you a message",
          body: @message.body.truncate(100),
          action_url: conversation_path(@conversation)
        }
      )
    end
  end
  
  def message_params
    params.require(:message).permit(:body, :message_type, attachments: [])
  end
end</code></pre>
    </div>

    <div class="code-block">
      <div class="code-header">Real-time Social Features with Action Cable</div>
      <pre><code># app/channels/social_activity_channel.rb
class SocialActivityChannel < ApplicationCable::Channel
  def subscribed
    stream_from "social_activity:#{current_user.id}"
    stream_from "global_activity" if current_user.admin?
    
    # Track user online status
    current_user.update(last_seen_at: Time.current, online: true)
    
    # Broadcast user online status to friends
    broadcast_online_status
  end
  
  def unsubscribed
    current_user.update(online: false)
    broadcast_offline_status
  end
  
  def react_to_post(data)
    post = Post.find(data['post_id'])
    reaction_type = data['reaction_type']
    
    # Toggle reaction
    existing_reaction = current_user.reactions.find_by(post: post)
    
    if existing_reaction
      if existing_reaction.reaction_type == reaction_type
        existing_reaction.destroy
        action = 'removed'
      else
        existing_reaction.update(reaction_type: reaction_type)
        action = 'changed'
      end
    else
      current_user.reactions.create(post: post, reaction_type: reaction_type)
      action = 'added'
    end
    
    # Real-time broadcast to all viewers of this post
    PostChannel.broadcast_to(
      post,
      {
        type: 'reaction_update',
        action: action,
        reaction_type: reaction_type,
        user: UserSerializer.new(current_user, scope: :basic).as_json,
        total_reactions: post.reactions.group(:reaction_type).count
      }
    )
    
    # Send notification to post author (if not self-reaction)
    unless post.user == current_user
      NotificationJob.perform_later(
        post.user.id,
        {
          type: 'post_reaction',
          actor: current_user,
          post: post,
          reaction_type: reaction_type
        }
      )
    end
  end
  
  def start_typing(data)
    conversation_id = data['conversation_id']
    
    # Broadcast typing indicator to conversation participants
    ConversationChannel.broadcast_to(
      Conversation.find(conversation_id),
      {
        type: 'typing_start',
        user_id: current_user.id,
        user_name: current_user.display_name
      }
    )
  end
  
  def stop_typing(data)
    conversation_id = data['conversation_id']
    
    ConversationChannel.broadcast_to(
      Conversation.find(conversation_id),
      {
        type: 'typing_stop',
        user_id: current_user.id
      }
    )
  end
  
  private
  
  def broadcast_online_status
    # Notify friends about online status
    current_user.friends.online.each do |friend|
      ActionCable.server.broadcast(
        "social_activity:#{friend.id}",
        {
          type: 'friend_online',
          user: UserSerializer.new(current_user, scope: :basic).as_json
        }
      )
    end
  end
  
  def broadcast_offline_status
    current_user.friends.online.each do |friend|
      ActionCable.server.broadcast(
        "social_activity:#{friend.id}",
        {
          type: 'friend_offline',
          user_id: current_user.id
        }
      )
    end
  end
end

# Background job for feed generation optimization
class OptimizeFeedJob < ApplicationJob
  queue_as :default
  
  def perform(user_id)
    user = User.find(user_id)
    
    # Pre-generate and cache personalized feed
    feed_posts = FeedGenerationService.new(user).generate_optimized_feed
    
    # Cache the pre-generated feed
    Rails.cache.write(
      "optimized_feed:#{user.id}",
      feed_posts,
      expires_in: 30.minutes
    )
    
    # Update user engagement metrics
    UserEngagementMetrics.update_feed_metrics(user, feed_posts)
    
    # Schedule next optimization
    OptimizeFeedJob.set(wait: 1.hour).perform_later(user_id)
  end
end

# Advanced content moderation service
class ContentModerationService
  include HTTParty
  
  attr_reader :content, :content_type
  
  def initialize(content, content_type = :text)
    @content = content
    @content_type = content_type
  end
  
  def moderate
    results = {}
    
    # Run multiple moderation checks
    results[:toxicity] = check_toxicity
    results[:spam] = check_spam
    results[:inappropriate_content] = check_inappropriate_content
    results[:hate_speech] = check_hate_speech
    
    # Combine results and determine action
    overall_score = calculate_overall_risk_score(results)
    
    {
      approved: overall_score < 0.3,
      flagged: overall_score >= 0.3 && overall_score < 0.7,
      blocked: overall_score >= 0.7,
      confidence: overall_score,
      details: results
    }
  end
  
  private
  
  def check_toxicity
    # Integration with external toxicity detection API
    response = self.class.post(
      'https://api.perspectiveapi.com/v1alpha1/comments:analyze',
      {
        headers: { 'Content-Type' => 'application/json' },
        body: {
          requestedAttributes: { TOXICITY: {} },
          comment: { text: content }
        }.to_json
      }
    )
    
    response.dig('attributeScores', 'TOXICITY', 'summaryScore', 'value') || 0
  rescue => e
    Rails.logger.error "Toxicity check failed: #{e.message}"
    0
  end
  
  def check_spam
    # Custom spam detection logic
    spam_indicators = [
      excessive_caps?,
      repeated_patterns?,
      suspicious_links?,
      promotional_content?
    ]
    
    spam_indicators.count(true).to_f / spam_indicators.length
  end
  
  def calculate_overall_risk_score(results)
    weights = {
      toxicity: 0.3,
      spam: 0.2,
      inappropriate_content: 0.3,
      hate_speech: 0.2
    }
    
    weighted_score = results.sum { |key, value| weights[key] * value }
    [weighted_score, 1.0].min
  end
end</code></pre>
    </div>
  </section>

  <!-- Social Features -->
  <section id="social-features" class="content-section">
    <div class="performance-metrics">
      <div class="section-header">
        <h2 class="section-title">Platform Performance</h2>
        <p class="section-subtitle">Real-world metrics demonstrating social platform scalability</p>
      </div>

      <div class="metrics-grid">
        <div class="performance-card">
          <div class="performance-value">67ms</div>
          <div class="performance-label">Feed Load Time (P95)</div>
          <div class="performance-description">Personalized content delivery</div>
        </div>

        <div class="performance-card">
          <div class="performance-value">100K</div>
          <div class="performance-label">Concurrent WebSocket Connections</div>
          <div class="performance-description">Real-time messaging</div>
        </div>

        <div class="performance-card">
          <div class="performance-value">97%</div>
          <div class="performance-label">Content Moderation Accuracy</div>
          <div class="performance-description">Automated safety systems</div>
        </div>

        <div class="performance-card">
          <div class="performance-value">99.9%</div>
          <div class="performance-label">Platform Uptime</div>
          <div class="performance-description">24/7 social connectivity</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Business Impact -->
  <section class="business-impact">
    <div class="content-section">
      <div class="section-header">
        <h2 class="section-title">Social Impact</h2>
        <p class="section-subtitle">Building meaningful connections through technology</p>
      </div>

      <div class="impact-grid">
        <div class="impact-card">
          <div class="impact-value">1M+</div>
          <div class="impact-label">Active Users</div>
          <div class="impact-description">Global social community</div>
        </div>

        <div class="impact-card">
          <div class="impact-value">95%</div>
          <div class="impact-label">User Engagement Rate</div>
          <div class="impact-description">Daily active participation</div>
        </div>

        <div class="impact-card">
          <div class="impact-value">80%</div>
          <div class="impact-label">User Retention (30-day)</div>
          <div class="impact-description">Strong community building</div>
        </div>

        <div class="impact-card">
          <div class="impact-value">10M+</div>
          <div class="impact-label">Daily Social Interactions</div>
          <div class="impact-description">Messages, posts, reactions</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-section">
    <div class="content-section">
      <div class="cta-container">
        <h2 class="cta-title">Ready to Build Social Platforms?</h2>
        <p class="cta-description">
          Interested in creating scalable social networking applications? Let's discuss how these Ruby on Rails 
          patterns can power your next social platform innovation.
        </p>
        <div class="hero-actions">
          <a href="contact.html" class="btn btn-primary">
            Discuss This Project
          </a>
          <a href="projects.html" class="btn btn-secondary">
            View More Projects
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <h3 class="footer-title">Connect with Me</h3>
      <div class="social-links">
        <a href="https://github.com/temitayocharles/social-media-platform" target="_blank" class="social-link">GitHub</a>
        <a href="https://hub.docker.com/u/temitayocharles" target="_blank" class="social-link">DockerHub</a>
        <a href="https://linkedin.com/in/temitayocharles" target="_blank" class="social-link">LinkedIn</a>
      </div>
      <p class="footer-text">&copy; 2025 Temitayo Charles | DevOps Engineer & Full-Stack Developer</p>
    </div>
  </footer>

  <script src="global-sidebar.js"></script>
  <script>
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Animate metrics on scroll
    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
        }
      });
    }, observerOptions);

    // Observe all cards and metrics
    document.querySelectorAll('.feature-card, .performance-card, .impact-card').forEach(el => {
      observer.observe(el);
    });
  </script>

  <style>
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</body>
</html>