<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate DevOps Container Demo - One-Command Deployment</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .demo-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .demo-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #a6e22e, #66d9ef);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .demo-subtitle {
            color: #66d9ef;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .demo-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #a6e22e;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .control-button {
            background: linear-gradient(135deg, #a6e22e, #66d9ef);
            color: #0e0e0e;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(166, 226, 46, 0.4);
        }

        .control-button:active {
            transform: translateY(0);
        }

        .demo-workspace {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .terminal-window, .services-panel {
            background: #1a1a1a;
            border: 2px solid #333;
            border-radius: 10px;
            overflow: hidden;
        }

        .window-header {
            background: #2a2a2a;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .window-title {
            color: #f0f0f0;
            font-weight: bold;
        }

        .window-controls {
            display: flex;
            gap: 5px;
            margin-left: auto;
        }

        .window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: none;
        }

        .red { background: #ff5f57; }
        .yellow { background: #ffbd2e; }
        .green { background: #28ca42; }

        .terminal-content {
            padding: 20px;
            height: 500px;
            overflow-y: auto;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            color: #f0f0f0;
        }

        .services-content {
            padding: 20px;
            height: 500px;
            overflow-y: auto;
        }

        .service-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .service-card {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .service-card:hover {
            border-color: #a6e22e;
            transform: translateY(-2px);
        }

        .service-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .service-name {
            color: #a6e22e;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .service-status {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .status-running { background: #28ca42; }
        .status-starting { background: #ffbd2e; }
        .status-stopped { background: #ff5f57; }

        .status-text {
            font-size: 0.8rem;
            color: #f0f0f0;
        }

        .service-details {
            color: #f0f0f0;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .service-actions {
            display: flex;
            gap: 10px;
        }

        .service-link {
            color: #66d9ef;
            text-decoration: none;
            font-size: 0.9rem;
            padding: 4px 8px;
            border: 1px solid #66d9ef;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .service-link:hover {
            background: #66d9ef;
            color: #0e0e0e;
        }

        .demo-steps {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #a6e22e;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .steps-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .steps-title {
            font-size: 1.8rem;
            color: #a6e22e;
            margin-bottom: 10px;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .step-card {
            background: rgba(166, 226, 46, 0.1);
            border: 1px solid rgba(166, 226, 46, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-5px);
            border-color: #a6e22e;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a6e22e, #66d9ef);
            color: #0e0e0e;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 0 auto 10px;
        }

        .step-title {
            font-weight: bold;
            color: #f0f0f0;
            margin-bottom: 10px;
        }

        .step-description {
            color: #f0f0f0;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #a6e22e, #66d9ef);
            width: 0%;
            transition: width 0.5s ease;
        }

        .terminal-output {
            margin-bottom: 10px;
        }

        .command-line {
            color: #66d9ef;
        }

        .command-output {
            color: #a6e22e;
            margin-left: 20px;
        }

        .error-output {
            color: #f92672;
            margin-left: 20px;
        }

        .success-output {
            color: #28ca42;
            margin-left: 20px;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing-animation::after {
            content: '|';
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .code-block {
            background: #1a1a1a;
            border: 2px solid #a6e22e;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            color: #f0f0f0;
            overflow-x: auto;
        }

        .code-comment {
            color: #66d9ef;
        }

        .code-command {
            color: #a6e22e;
        }

        @media (max-width: 768px) {
            .demo-workspace {
                grid-template-columns: 1fr;
            }

            .demo-controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1 class="demo-title">🚀 Ultimate DevOps Container Demo</h1>
            <p class="demo-subtitle">Experience the 30-second deployment of a complete DevOps environment</p>
        </div>

        <div class="demo-steps">
            <div class="steps-header">
                <h2 class="steps-title">⚡ Deployment Workflow</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            <div class="steps-grid">
                <div class="step-card" id="step1">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Pull & Deploy</h3>
                    <p class="step-description">Download and start the container with all services</p>
                </div>
                <div class="step-card" id="step2">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Auto-Configuration</h3>
                    <p class="step-description">Services start automatically with TLS certificates</p>
                </div>
                <div class="step-card" id="step3">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Access Services</h3>
                    <p class="step-description">Open web interfaces and start development</p>
                </div>
                <div class="step-card" id="step4">
                    <div class="step-number">4</div>
                    <h3 class="step-title">Full Environment</h3>
                    <p class="step-description">30+ tools ready for DevOps workflows</p>
                </div>
            </div>
        </div>

        <div class="demo-controls">
            <div class="control-panel">
                <h3 style="color: #a6e22e; margin-bottom: 15px;">🎮 Demo Controls</h3>
                <button class="control-button" onclick="startDeployment()">🚀 Start Deployment</button>
                <button class="control-button" onclick="showCommand()">📋 Show Command</button>
                <button class="control-button" onclick="resetDemo()">🔄 Reset</button>
            </div>
            <div class="control-panel">
                <h3 style="color: #a6e22e; margin-bottom: 15px;">📊 Deployment Status</h3>
                <div style="display: flex; justify-content: space-around; margin-top: 10px;">
                    <div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: #28ca42;" id="containerStatus">●</div>
                        <div style="font-size: 0.8rem; color: #f0f0f0;">Container</div>
                    </div>
                    <div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: #ffbd2e;" id="servicesStatus">○</div>
                        <div style="font-size: 0.8rem; color: #f0f0f0;">Services</div>
                    </div>
                    <div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: #ff5f57;" id="tlsStatus">○</div>
                        <div style="font-size: 0.8rem; color: #f0f0f0;">TLS</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-workspace">
            <div class="terminal-window">
                <div class="window-header">
                    <span class="window-title">🐧 Terminal - Container Deployment</span>
                    <div class="window-controls">
                        <div class="window-control red"></div>
                        <div class="window-control yellow"></div>
                        <div class="window-control green"></div>
                    </div>
                </div>
                <div class="terminal-content" id="terminalOutput">
                    <div class="terminal-output">
                        <span class="command-line">$ docker --version</span>
                    </div>
                    <div class="terminal-output">
                        <span class="command-output">Docker version 24.0.5, build ced0996</span>
                    </div>
                    <div class="terminal-output">
                        <span class="command-line">$ Ready to deploy Ultimate DevOps Container!</span>
                    </div>
                </div>
            </div>

            <div class="services-panel">
                <div class="window-header">
                    <span class="window-title">🔧 Services Dashboard</span>
                    <div class="window-controls">
                        <div class="window-control red"></div>
                        <div class="window-control yellow"></div>
                        <div class="window-control green"></div>
                    </div>
                </div>
                <div class="services-content">
                    <div class="service-grid" id="servicesGrid">
                        <div class="service-card">
                            <div class="service-header">
                                <span class="service-name">VS Code Server</span>
                                <div class="service-status">
                                    <div class="status-indicator status-stopped"></div>
                                    <span class="status-text">Stopped</span>
                                </div>
                            </div>
                            <div class="service-details">Cloud IDE with extensions pre-installed</div>
                            <div class="service-actions">
                                <a href="#" class="service-link" onclick="return false;">https://localhost:8443</a>
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <span class="service-name">Grafana</span>
                                <div class="service-status">
                                    <div class="status-indicator status-stopped"></div>
                                    <span class="status-text">Stopped</span>
                                </div>
                            </div>
                            <div class="service-details">Monitoring dashboards and metrics visualization</div>
                            <div class="service-actions">
                                <a href="#" class="service-link" onclick="return false;">https://localhost:3000</a>
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <span class="service-name">Prometheus</span>
                                <div class="service-status">
                                    <div class="status-indicator status-stopped"></div>
                                    <span class="status-text">Stopped</span>
                                </div>
                            </div>
                            <div class="service-details">Metrics collection and alerting system</div>
                            <div class="service-actions">
                                <a href="#" class="service-link" onclick="return false;">https://localhost:9090</a>
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <span class="service-name">HashiCorp Vault</span>
                                <div class="service-status">
                                    <div class="status-indicator status-stopped"></div>
                                    <span class="status-text">Stopped</span>
                                </div>
                            </div>
                            <div class="service-details">Secrets management and encryption</div>
                            <div class="service-actions">
                                <a href="#" class="service-link" onclick="return false;">https://localhost:8200</a>
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <span class="service-name">NGINX Proxy</span>
                                <div class="service-status">
                                    <div class="status-indicator status-stopped"></div>
                                    <span class="status-text">Stopped</span>
                                </div>
                            </div>
                            <div class="service-details">Reverse proxy with automatic TLS</div>
                            <div class="service-actions">
                                <a href="#" class="service-link" onclick="return false;">https://localhost:443</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <div class="code-block">
                <div class="code-comment"># One-command deployment</div><br/>
                <span class="code-command">docker run -d --name devops-charlie \</span><br/>
                &nbsp;&nbsp;<span class="code-command">-p 8443:8443 -p 3000:3000 -p 9090:9090 -p 8200:8200 -p 443:443 \</span><br/>
                &nbsp;&nbsp;<span class="code-command">-v $(pwd)/workspace:/workspace \</span><br/>
                &nbsp;&nbsp;<span class="code-command">-v /var/run/docker.sock:/var/run/docker.sock \</span><br/>
                &nbsp;&nbsp;<span class="code-command">temitayocharles/devops-charlie:latest</span>
            </div>
        </div>
    </div>

    <script>
        let deploymentRunning = false;
        let currentStep = 0;
        let servicesStarted = false;

        const deploymentSteps = [
            {
                title: "Pull Container Image",
                commands: [
                    "$ docker pull temitayocharles/devops-charlie:latest",
                    "latest: Pulling from temitayocharles/devops-charlie",
                    "Digest: sha256:abc123...",
                    "Status: Downloaded newer image for temitayocharles/devops-charlie:latest",
                    "docker.io/temitayocharles/devops-charlie:latest"
                ]
            },
            {
                title: "Start Container",
                commands: [
                    "$ docker run -d --name devops-charlie \\",
                    "  -p 8443:8443 -p 3000:3000 -p 9090:9090 -p 8200:8200 -p 443:443 \\",
                    "  -v $(pwd)/workspace:/workspace \\",
                    "  -v /var/run/docker.sock:/var/run/docker.sock \\",
                    "  temitayocharles/devops-charlie:latest",
                    "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6",
                    "Container started successfully!"
                ]
            },
            {
                title: "Initialize Services",
                commands: [
                    "$ docker logs devops-charlie",
                    "2024-01-15 10:00:01 🔄 Starting service initialization...",
                    "2024-01-15 10:00:02 🛡️ Generating TLS certificates...",
                    "2024-01-15 10:00:03 📊 Starting Prometheus metrics collection...",
                    "2024-01-15 10:00:04 📈 Initializing Grafana dashboards...",
                    "2024-01-15 10:00:05 🔐 Configuring HashiCorp Vault...",
                    "2024-01-15 10:00:06 💻 Starting VS Code Server...",
                    "2024-01-15 10:00:07 🌐 Configuring NGINX reverse proxy...",
                    "2024-01-15 10:00:08 ✅ All services initialized successfully!"
                ]
            },
            {
                title: "Verify Deployment",
                commands: [
                    "$ docker ps",
                    "CONTAINER ID   IMAGE                              COMMAND                  CREATED         STATUS         PORTS                                                                                  NAMES",
                    "a1b2c3d4e5f6   temitayocharles/devops-charlie:latest   \"/bin/sh -c /start.sh\"   2 minutes ago   Up 2 minutes   0.0.0.0:443->443/tcp, 0.0.0.0:3000->3000/tcp, 0.0.0.0:8200->8200/tcp, 0.0.0.0:8443->8443/tcp, 0.0.0.0:9090->9090/tcp   devops-charlie",
                    "",
                    "$ curl -k https://localhost:8443",
                    "<!DOCTYPE html>",
                    "<html>",
                    "<head><title>VS Code Server</title></head>",
                    "<body>VS Code Server is running!</body>",
                    "</html>",
                    "",
                    "🎉 Deployment completed successfully!",
                    "🌐 Access your DevOps environment:",
                    "   • VS Code Server: https://localhost:8443",
                    "   • Grafana: https://localhost:3000 (admin/admin)",
                    "   • Prometheus: https://localhost:9090",
                    "   • Vault: https://localhost:8200",
                    "   • NGINX: https://localhost:443"
                ]
            }
        ];

        function startDeployment() {
            if (deploymentRunning) return;
            deploymentRunning = true;
            currentStep = 0;
            runDeploymentStep();
        }

        function runDeploymentStep() {
            updateStepIndicators();
            const step = deploymentSteps[currentStep];
            const terminalOutput = document.getElementById('terminalOutput');

            let commandIndex = 0;
            const stepInterval = setInterval(() => {
                if (commandIndex < step.commands.length) {
                    const command = step.commands[commandIndex];
                    const outputDiv = document.createElement('div');
                    outputDiv.className = 'terminal-output fade-in';

                    if (command.startsWith('$')) {
                        outputDiv.innerHTML = `<span class="command-line">${command}</span>`;
                    } else if (command.includes('ERROR') || command.includes('failed')) {
                        outputDiv.innerHTML = `<span class="error-output">${command}</span>`;
                    } else if (command.includes('✅') || command.includes('🎉') || command.includes('successfully')) {
                        outputDiv.innerHTML = `<span class="success-output">${command}</span>`;
                    } else {
                        outputDiv.innerHTML = `<span class="command-output">${command}</span>`;
                    }

                    terminalOutput.appendChild(outputDiv);
                    terminalOutput.scrollTop = terminalOutput.scrollHeight;
                    commandIndex++;

                    // Update service status based on progress
                    updateServiceStatus(command);
                } else {
                    clearInterval(stepInterval);
                    // Auto-advance to next step
                    if (currentStep < deploymentSteps.length - 1) {
                        setTimeout(() => {
                            currentStep++;
                            runDeploymentStep();
                        }, 2000);
                    } else {
                        deploymentRunning = false;
                        servicesStarted = true;
                        updateAllServicesStatus('running');
                    }
                }
            }, 800);
        }

        function updateServiceStatus(command) {
            if (command.includes('VS Code Server')) {
                updateServiceStatusByName('VS Code Server', 'running');
            } else if (command.includes('Grafana')) {
                updateServiceStatusByName('Grafana', 'running');
            } else if (command.includes('Prometheus')) {
                updateServiceStatusByName('Prometheus', 'running');
            } else if (command.includes('Vault')) {
                updateServiceStatusByName('HashiCorp Vault', 'running');
            } else if (command.includes('NGINX')) {
                updateServiceStatusByName('NGINX Proxy', 'running');
            } else if (command.includes('TLS certificates')) {
                document.getElementById('tlsStatus').textContent = '●';
                document.getElementById('tlsStatus').style.color = '#28ca42';
            } else if (command.includes('Container started')) {
                document.getElementById('containerStatus').textContent = '●';
                document.getElementById('containerStatus').style.color = '#28ca42';
                document.getElementById('servicesStatus').textContent = '●';
                document.getElementById('servicesStatus').style.color = '#ffbd2e';
            }
        }

        function updateServiceStatusByName(serviceName, status) {
            const services = document.querySelectorAll('.service-card');
            services.forEach(service => {
                const nameElement = service.querySelector('.service-name');
                if (nameElement && nameElement.textContent === serviceName) {
                    const statusIndicator = service.querySelector('.status-indicator');
                    const statusText = service.querySelector('.status-text');

                    statusIndicator.className = 'status-indicator status-' + status;
                    statusText.textContent = status.charAt(0).toUpperCase() + status.slice(1);
                }
            });
        }

        function updateAllServicesStatus(status) {
            const services = ['VS Code Server', 'Grafana', 'Prometheus', 'HashiCorp Vault', 'NGINX Proxy'];
            services.forEach(service => {
                updateServiceStatusByName(service, status);
            });
        }

        function showCommand() {
            const terminalOutput = document.getElementById('terminalOutput');
            const commandDiv = document.createElement('div');
            commandDiv.className = 'terminal-output fade-in';
            commandDiv.innerHTML = `
                <span class="command-line"># Complete deployment command:</span><br/>
                <span class="command-output">docker run -d --name devops-charlie \\</span><br/>
                <span class="command-output">  -p 8443:8443 -p 3000:3000 -p 9090:9090 -p 8200:8200 -p 443:443 \\</span><br/>
                <span class="command-output">  -v $(pwd)/workspace:/workspace \\</span><br/>
                <span class="command-output">  -v /var/run/docker.sock:/var/run/docker.sock \\</span><br/>
                <span class="command-output">  temitayocharles/devops-charlie:latest</span>
            `;
            terminalOutput.appendChild(commandDiv);
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
        }

        function resetDemo() {
            deploymentRunning = false;
            currentStep = 0;
            servicesStarted = false;
            document.getElementById('terminalOutput').innerHTML = `
                <div class="terminal-output">
                    <span class="command-line">$ docker --version</span>
                </div>
                <div class="terminal-output">
                    <span class="command-output">Docker version 24.0.5, build ced0996</span>
                </div>
                <div class="terminal-output">
                    <span class="command-line">$ Ready to deploy Ultimate DevOps Container!</span>
                </div>
            `;
            updateAllServicesStatus('stopped');
            document.getElementById('containerStatus').textContent = '●';
            document.getElementById('containerStatus').style.color = '#28ca42';
            document.getElementById('servicesStatus').textContent = '○';
            document.getElementById('servicesStatus').style.color = '#ffbd2e';
            document.getElementById('tlsStatus').textContent = '○';
            document.getElementById('tlsStatus').style.color = '#ff5f57';
            updateStepIndicators();
        }

        function updateStepIndicators() {
            const progress = ((currentStep + 1) / deploymentSteps.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // Update step card styles
            for (let i = 0; i < deploymentSteps.length; i++) {
                const stepCard = document.getElementById('step' + (i + 1));
                if (i < currentStep) {
                    stepCard.style.borderColor = '#28ca42';
                    stepCard.style.background = 'rgba(40, 202, 66, 0.1)';
                } else if (i === currentStep) {
                    stepCard.style.borderColor = '#a6e22e';
                    stepCard.style.background = 'rgba(166, 226, 46, 0.1)';
                } else {
                    stepCard.style.borderColor = 'rgba(166, 226, 46, 0.3)';
                    stepCard.style.background = 'rgba(166, 226, 46, 0.1)';
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateStepIndicators();
        });
    </script>
</body>
</html>
