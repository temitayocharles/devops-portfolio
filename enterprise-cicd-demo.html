<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise CI/CD Pipeline Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', monospace;
            background: #0e0e0e;
            color: #f0f0f0;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, #f39c12 0%, #e67e00 100%);
            margin: -20px -20px 40px -20px;
        }

        .header h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #fff3cd;
            font-size: 1.1rem;
        }

        .pipeline-overview {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(243, 156, 18, 0.3);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .pipeline-stages {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }

        .stage {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #555;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            min-width: 140px;
            transition: all 0.3s ease;
            position: relative;
        }

        .stage.active {
            border-color: #f39c12;
            background: rgba(243, 156, 18, 0.1);
            box-shadow: 0 0 20px rgba(243, 156, 18, 0.3);
        }

        .stage.completed {
            border-color: #a6e22e;
            background: rgba(166, 226, 46, 0.1);
        }

        .stage.failed {
            border-color: #f92672;
            background: rgba(249, 38, 114, 0.1);
        }

        .stage-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .stage-name {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 5px;
        }

        .stage-status {
            font-size: 0.8rem;
            color: #f39c12;
        }

        .stage.completed .stage-status {
            color: #a6e22e;
        }

        .stage.failed .stage-status {
            color: #f92672;
        }

        .arrow {
            color: #f39c12;
            font-size: 1.5rem;
            margin: 0 10px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(243, 156, 18, 0.3);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .panel h3 {
            color: #f39c12;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .terminal {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            height: 400px;
            overflow-y: auto;
            position: relative;
        }

        .terminal::before {
            content: "Jenkins Pipeline Console";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: #2a2a2a;
            padding: 8px 20px;
            font-size: 12px;
            color: #888;
            border-bottom: 1px solid #333;
        }

        .terminal-content {
            margin-top: 40px;
        }

        .command-line {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }

        .prompt {
            color: #f39c12;
            margin-right: 10px;
        }

        .command {
            color: #66d9ef;
            flex: 1;
        }

        .output {
            color: #a6e22e;
            margin: 5px 0;
            white-space: pre-wrap;
        }

        .error {
            color: #f92672;
        }

        .warning {
            color: #ff9900;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f39c12;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            color: #888;
        }

        .control-panel {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #f39c12, #e67e00);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.4);
        }

        .control-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
        }

        .test-results {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(243, 156, 18, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .test-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .test-stat {
            text-align: center;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
        }

        .test-stat.pass {
            border-left: 4px solid #a6e22e;
        }

        .test-stat.fail {
            border-left: 4px solid #f92672;
        }

        .test-stat.warn {
            border-left: 4px solid #ff9900;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f39c12, #a6e22e);
            width: 0%;
            transition: width 0.3s ease;
        }

        .artifact-list {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
        }

        .artifact-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .artifact-item:last-child {
            border-bottom: none;
        }

        .artifact-name {
            color: #66d9ef;
        }

        .artifact-size {
            color: #888;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .pipeline-stages {
                flex-direction: column;
                gap: 10px;
            }

            .arrow {
                transform: rotate(90deg);
            }

            .header h1 {
                font-size: 2rem;
            }

            .terminal {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>🔄 Enterprise CI/CD Pipeline Demo</h1>
            <p>Automated Build, Test, Security & Deploy Pipeline</p>
        </div>
    </div>

    <div class="container">
        <div class="control-panel">
            <button class="control-btn" id="startBtn" onclick="startPipeline()">Start Pipeline</button>
            <button class="control-btn" id="resetBtn" onclick="resetPipeline()" disabled>Reset Pipeline</button>
            <button class="control-btn" id="viewLogsBtn" onclick="viewDetailedLogs()">View Logs</button>
        </div>

        <div class="pipeline-overview">
            <h2 style="color: #f39c12; text-align: center; margin-bottom: 20px;">🚀 CI/CD Pipeline Stages</h2>

            <div class="pipeline-stages">
                <div class="stage" id="sourceStage">
                    <span class="stage-icon">📦</span>
                    <div class="stage-name">Source</div>
                    <div class="stage-status">Ready</div>
                </div>
                <span class="arrow">→</span>
                <div class="stage" id="buildStage">
                    <span class="stage-icon">🔨</span>
                    <div class="stage-name">Build</div>
                    <div class="stage-status">Waiting</div>
                </div>
                <span class="arrow">→</span>
                <div class="stage" id="testStage">
                    <span class="stage-icon">🧪</span>
                    <div class="stage-name">Test</div>
                    <div class="stage-status">Waiting</div>
                </div>
                <span class="arrow">→</span>
                <div class="stage" id="securityStage">
                    <span class="stage-icon">🔒</span>
                    <div class="stage-name">Security</div>
                    <div class="stage-status">Waiting</div>
                </div>
                <span class="arrow">→</span>
                <div class="stage" id="deployStage">
                    <span class="stage-icon">🚀</span>
                    <div class="stage-name">Deploy</div>
                    <div class="stage-status">Waiting</div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="pipelineProgress"></div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="panel">
                <h3>⚙️ Pipeline Execution</h3>
                <div class="terminal" id="pipelineTerminal">
                    <div class="terminal-content" id="pipelineContent">
                        <div class="output">Jenkins Pipeline ready...</div>
                        <div class="output">Waiting for trigger...</div>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>📊 Pipeline Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="buildTime">0s</div>
                        <div class="metric-label">Build Time</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="testCoverage">0%</div>
                        <div class="metric-label">Test Coverage</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="securityScore">0/100</div>
                        <div class="metric-label">Security Score</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="deployStatus">Ready</div>
                        <div class="metric-label">Deploy Status</div>
                    </div>
                </div>

                <div class="test-results" id="testResults" style="display: none;">
                    <h4 style="color: #f39c12; margin-bottom: 15px;">🧪 Test Results</h4>
                    <div class="test-summary">
                        <div class="test-stat pass">
                            <div style="font-size: 1.2rem; font-weight: bold;">124</div>
                            <div style="font-size: 0.8rem;">Passed</div>
                        </div>
                        <div class="test-stat fail">
                            <div style="font-size: 1.2rem; font-weight: bold;">2</div>
                            <div style="font-size: 0.8rem;">Failed</div>
                        </div>
                        <div class="test-stat warn">
                            <div style="font-size: 1.2rem; font-weight: bold;">8</div>
                            <div style="font-size: 0.8rem;">Warnings</div>
                        </div>
                        <div class="test-stat">
                            <div style="font-size: 1.2rem; font-weight: bold;">95.2%</div>
                            <div style="font-size: 0.8rem;">Coverage</div>
                        </div>
                    </div>
                </div>

                <div class="artifact-list" id="artifacts" style="display: none;">
                    <h4 style="color: #f39c12; margin-bottom: 10px;">📦 Build Artifacts</h4>
                    <div class="artifact-item">
                        <span class="artifact-name">web-app.jar</span>
                        <span class="artifact-size">45.2 MB</span>
                    </div>
                    <div class="artifact-item">
                        <span class="artifact-name">docker-image.tar</span>
                        <span class="artifact-size">234 MB</span>
                    </div>
                    <div class="artifact-item">
                        <span class="artifact-name">test-results.xml</span>
                        <span class="artifact-size">1.2 MB</span>
                    </div>
                    <div class="artifact-item">
                        <span class="artifact-name">security-report.pdf</span>
                        <span class="artifact-size">2.8 MB</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let pipelineRunning = false;
        let currentStage = 0;
        const stages = ['sourceStage', 'buildStage', 'testStage', 'securityStage', 'deployStage'];

        const pipelineSteps = [
            {
                stage: 'source',
                commands: [
                    'git clone https://github.com/company/web-app.git',
                    'cd web-app',
                    'git checkout feature/new-login'
                ],
                outputs: [
                    'Cloning into \'web-app\'...',
                    '✓ Repository cloned successfully',
                    '✓ Branch: feature/new-login',
                    '✓ Commit: abc123def456'
                ]
            },
            {
                stage: 'build',
                commands: [
                    'mvn clean compile',
                    'mvn package -DskipTests'
                ],
                outputs: [
                    '[INFO] Scanning for projects...',
                    '[INFO] Building web-app 1.2.3',
                    '[INFO] BUILD SUCCESS',
                    '✓ JAR created: target/web-app-1.2.3.jar (45.2 MB)'
                ]
            },
            {
                stage: 'test',
                commands: [
                    'mvn test',
                    'mvn verify'
                ],
                outputs: [
                    '[INFO] Running tests...',
                    'Tests run: 126, Failures: 2, Errors: 0, Skipped: 0',
                    '[WARNING] Some tests failed',
                    '[INFO] Test coverage: 95.2%',
                    '✓ Integration tests passed'
                ]
            },
            {
                stage: 'security',
                commands: [
                    'mvn org.owasp:dependency-check-maven:check',
                    'sonar-scanner'
                ],
                outputs: [
                    '[INFO] Checking dependencies...',
                    '[INFO] Found 0 high-severity vulnerabilities',
                    '[INFO] Security score: 92/100',
                    '✓ SonarQube analysis complete',
                    '✓ No critical security issues'
                ]
            },
            {
                stage: 'deploy',
                commands: [
                    'docker build -t web-app:1.2.3 .',
                    'kubectl apply -f k8s/',
                    'kubectl rollout status deployment/web-app'
                ],
                outputs: [
                    'Sending build context to Docker daemon...',
                    '✓ Image built: web-app:1.2.3',
                    'deployment.apps/web-app created',
                    '✓ Deployment successful',
                    '✓ Application available at: https://app.company.com'
                ]
            }
        ];

        function startPipeline() {
            if (pipelineRunning) return;

            pipelineRunning = true;
            currentStage = 0;
            document.getElementById('startBtn').disabled = true;
            document.getElementById('startBtn').textContent = 'Pipeline Running...';
            document.getElementById('resetBtn').disabled = false;

            // Clear terminal
            document.getElementById('pipelineContent').innerHTML = '';

            // Start pipeline execution
            executePipelineStage(0);
        }

        function executePipelineStage(stageIndex) {
            if (stageIndex >= pipelineSteps.length) {
                completePipeline();
                return;
            }

            const step = pipelineSteps[stageIndex];
            const stageElement = document.getElementById(stages[stageIndex] + 'Stage');

            // Update stage status
            stageElement.className = 'stage active';
            stageElement.querySelector('.stage-status').textContent = 'Running';

            // Execute commands for this stage
            executeStageCommands(step, stageIndex, 0);
        }

        function executeStageCommands(step, stageIndex, commandIndex) {
            if (commandIndex >= step.commands.length) {
                // Stage completed
                completeStage(stageIndex);
                return;
            }

            const terminal = document.getElementById('pipelineContent');
            const command = step.commands[commandIndex];

            // Add command
            const commandLine = document.createElement('div');
            commandLine.className = 'command-line';
            commandLine.innerHTML = `
                <span class="prompt">[jenkins@master ~]$</span>
                <span class="command">${command}</span>
            `;
            terminal.appendChild(commandLine);

            // Add outputs with delay
            const outputs = commandIndex < step.outputs.length ? [step.outputs[commandIndex]] : ['Command executed successfully'];
            outputs.forEach((output, i) => {
                setTimeout(() => {
                    const outputLine = document.createElement('div');
                    outputLine.className = 'output';
                    if (output.includes('Failures: 2') || output.includes('Some tests failed')) {
                        outputLine.className = 'warning';
                    }
                    outputLine.textContent = output;
                    terminal.appendChild(outputLine);
                    terminal.scrollTop = terminal.scrollHeight;
                }, (i + 1) * 1000);
            });

            // Move to next command
            setTimeout(() => {
                executeStageCommands(step, stageIndex, commandIndex + 1);
            }, outputs.length * 1000 + 500);
        }

        function completeStage(stageIndex) {
            const stageElement = document.getElementById(stages[stageIndex] + 'Stage');
            const nextStageIndex = stageIndex + 1;

            // Mark current stage as completed
            stageElement.className = 'stage completed';
            stageElement.querySelector('.stage-status').textContent = 'Completed';

            // Update progress
            const progress = ((stageIndex + 1) / pipelineSteps.length) * 100;
            document.getElementById('pipelineProgress').style.width = progress + '%';

            // Update metrics
            updateMetrics(stageIndex);

            // Move to next stage
            setTimeout(() => {
                if (nextStageIndex < pipelineSteps.length) {
                    executePipelineStage(nextStageIndex);
                }
            }, 1500);
        }

        function completePipeline() {
            document.getElementById('startBtn').disabled = false;
            document.getElementById('startBtn').textContent = 'Pipeline Complete';

            // Show test results and artifacts
            document.getElementById('testResults').style.display = 'block';
            document.getElementById('artifacts').style.display = 'block';

            // Add completion message
            setTimeout(() => {
                const terminal = document.getElementById('pipelineContent');
                const completionMsg = document.createElement('div');
                completionMsg.className = 'output';
                completionMsg.innerHTML = '<strong>🎉 Pipeline completed successfully!</strong><br>✓ All stages passed<br>✓ Application deployed to production<br>✓ Monitoring enabled';
                terminal.appendChild(completionMsg);
                terminal.scrollTop = terminal.scrollHeight;
            }, 1000);
        }

        function updateMetrics(stageIndex) {
            switch(stageIndex) {
                case 0: // Source
                    document.getElementById('buildTime').textContent = '15s';
                    break;
                case 1: // Build
                    document.getElementById('buildTime').textContent = '2m 34s';
                    document.getElementById('testCoverage').textContent = '95.2%';
                    break;
                case 2: // Test
                    document.getElementById('testCoverage').textContent = '95.2%';
                    break;
                case 3: // Security
                    document.getElementById('securityScore').textContent = '92/100';
                    break;
                case 4: // Deploy
                    document.getElementById('deployStatus').textContent = 'Success';
                    document.getElementById('deployStatus').style.color = '#a6e22e';
                    break;
            }
        }

        function resetPipeline() {
            pipelineRunning = false;
            currentStage = 0;

            document.getElementById('startBtn').disabled = false;
            document.getElementById('startBtn').textContent = 'Start Pipeline';
            document.getElementById('resetBtn').disabled = true;

            // Reset all stages
            stages.forEach(stageId => {
                const stage = document.getElementById(stageId + 'Stage');
                stage.className = 'stage';
                if (stageId === 'sourceStage') {
                    stage.querySelector('.stage-status').textContent = 'Ready';
                } else {
                    stage.querySelector('.stage-status').textContent = 'Waiting';
                }
            });

            // Reset progress
            document.getElementById('pipelineProgress').style.width = '0%';

            // Reset metrics
            document.getElementById('buildTime').textContent = '0s';
            document.getElementById('testCoverage').textContent = '0%';
            document.getElementById('securityScore').textContent = '0/100';
            document.getElementById('deployStatus').textContent = 'Ready';
            document.getElementById('deployStatus').style.color = '#f39c12';

            // Hide results
            document.getElementById('testResults').style.display = 'none';
            document.getElementById('artifacts').style.display = 'none';

            // Clear terminal
            document.getElementById('pipelineContent').innerHTML = `
                <div class="output">Jenkins Pipeline ready...</div>
                <div class="output">Waiting for trigger...</div>
            `;
        }

        function viewDetailedLogs() {
            const logsWindow = window.open('', '_blank', 'width=1000,height=700');
            logsWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Pipeline Detailed Logs</title>
                    <style>
                        body { font-family: monospace; background: #1a1a1a; color: #f0f0f0; padding: 20px; }
                        .log-entry { margin: 5px 0; padding: 5px; border-left: 3px solid #f39c12; }
                        .log-entry.error { border-left-color: #f92672; }
                        .log-entry.success { border-left-color: #a6e22e; }
                        .timestamp { color: #888; }
                    </style>
                </head>
                <body>
                    <h1>🔍 Detailed Pipeline Logs</h1>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:30:15]</span> Pipeline started
                    </div>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:30:16]</span> Git clone successful
                    </div>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:30:45]</span> Maven build completed
                    </div>
                    <div class="log-entry">
                        <span class="timestamp">[2024-01-15 10:31:23]</span> Unit tests: 124 passed, 2 failed
                    </div>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:31:45]</span> Security scan: No high-severity issues
                    </div>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:32:12]</span> Docker build successful
                    </div>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:32:30]</span> Kubernetes deployment successful
                    </div>
                    <div class="log-entry success">
                        <span class="timestamp">[2024-01-15 10:32:35]</span> Pipeline completed successfully
                    </div>
                </body>
                </html>
            `);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            resetPipeline();
        });
    </script>
</body>
</html></content>
<parameter name="filePath">/Users/charlie/Downloads/devops-portfolio-main-2/enterprise-cicd-demo.html
